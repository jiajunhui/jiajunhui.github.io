<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;example.com&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Mist&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;always&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:true,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:false,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;},&quot;path&quot;:&quot;&#x2F;search.xml&quot;,&quot;localsearch&quot;:{&quot;enable&quot;:true,&quot;trigger&quot;:&quot;auto&quot;,&quot;top_n_per_article&quot;:1,&quot;unescape&quot;:false,&quot;preload&quot;:false}}</script><script src="/js/config.js"></script>
<meta name="description" content="CAN是控制器局域网络(Controller Area Network, CAN)的简称。目前普遍运用在汽车网络.">
<meta property="og:type" content="article">
<meta property="og:title" content="整车CAN网络了解">
<meta property="og:url" content="http://example.com/2021/05/21/car_can_introduction/index.html">
<meta property="og:site_name" content="奔跑的蜗牛">
<meta property="og:description" content="CAN是控制器局域网络(Controller Area Network, CAN)的简称。目前普遍运用在汽车网络.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/car_can_introduction01.png">
<meta property="og:image" content="http://example.com/images/car_can_introduction02.png">
<meta property="og:image" content="http://example.com/images/car_can_introduction03.png">
<meta property="og:image" content="http://example.com/images/car_can_introduction04.png">
<meta property="og:image" content="http://example.com/images/car_can_introduction05.png">
<meta property="article:published_time" content="2021-05-21T13:56:00.000Z">
<meta property="article:modified_time" content="2023-03-24T13:25:13.917Z">
<meta property="article:author" content="小贾">
<meta property="article:tag" content="CAN">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/car_can_introduction01.png">


<link rel="canonical" href="http://example.com/2021/05/21/car_can_introduction/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;http:&#x2F;&#x2F;example.com&#x2F;2021&#x2F;05&#x2F;21&#x2F;car_can_introduction&#x2F;&quot;,&quot;path&quot;:&quot;2021&#x2F;05&#x2F;21&#x2F;car_can_introduction&#x2F;&quot;,&quot;title&quot;:&quot;整车CAN网络了解&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>整车CAN网络了解 | 奔跑的蜗牛</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">奔跑的蜗牛</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CAN%E7%BD%91%E7%BB%9C%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="nav-number">2.</span> <span class="nav-text">CAN网络的优势</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CAN%E7%BD%91%E7%BB%9C-%E6%97%A9%E6%9C%9F%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%E5%9B%BE"><span class="nav-number">3.</span> <span class="nav-text">CAN网络-早期基本结构图</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CAN%E7%BD%91%E7%BB%9C-%E5%BD%93%E4%BB%8A%E4%B8%BB%E6%B5%81%E7%BB%93%E6%9E%84%E5%9B%BE"><span class="nav-number">4.</span> <span class="nav-text">CAN网络-当今主流结构图</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CAN%E7%BD%91%E7%BB%9C%E5%9F%BA%E6%9C%AC%E6%9E%84%E6%88%90%E5%8D%95%E5%85%831-ECU%E8%8A%82%E7%82%B9"><span class="nav-number">4.1.</span> <span class="nav-text">CAN网络基本构成单元1_ECU节点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CAN%E7%BD%91%E7%BB%9C%E5%9F%BA%E6%9C%AC%E6%9E%84%E6%88%90%E5%8D%95%E5%85%832-CAN%E6%80%BB%E7%BA%BF"><span class="nav-number">4.2.</span> <span class="nav-text">CAN网络基本构成单元2_CAN总线</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PCAN-PowerTrain-CAN-%E2%98%9E-%E5%8A%A8%E5%8A%9B%E6%80%BB%E6%88%90CAN%E6%80%BB%E7%BA%BF"><span class="nav-number">4.2.1.</span> <span class="nav-text">PCAN (PowerTrain CAN ) ☞ 动力总成CAN总线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CCAN-Chassis-CAN-%E2%98%9E-%E5%BA%95%E7%9B%98%E6%8E%A7%E5%88%B6CAN%E6%80%BB%E7%BA%BF"><span class="nav-number">4.2.2.</span> <span class="nav-text">CCAN (Chassis CAN) ☞ 底盘控制CAN总线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BCAN-Body-CAN-%E2%98%9E-%E8%BD%A6%E8%BA%AB%E6%8E%A7%E5%88%B6%E6%80%BB%E7%BA%BF"><span class="nav-number">4.2.3.</span> <span class="nav-text">BCAN ( Body CAN )☞ 车身控制总线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ECAN-Entertainment-CAN-%E2%98%9E-%E5%A8%B1%E4%B9%90%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF"><span class="nav-number">4.2.4.</span> <span class="nav-text">ECAN ( Entertainment CAN ) ☞ 娱乐系统总线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DCAN-Diagnose-CAN-%E2%98%9E-%E8%AF%8A%E6%96%AD%E6%8E%A7%E5%88%B6%E6%80%BB%E7%BA%BF"><span class="nav-number">4.2.5.</span> <span class="nav-text">DCAN ( Diagnose CAN )☞ 诊断控制总线</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CAN%E7%BD%91%E5%85%B3"><span class="nav-number">5.</span> <span class="nav-text">CAN网关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CAN%E7%BD%91%E5%85%B3%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-number">5.0.1.</span> <span class="nav-text">CAN网关的功能</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%A6%E6%9C%BA%E5%A8%B1%E4%B9%90%E7%B3%BB%E7%BB%9F"><span class="nav-number">6.</span> <span class="nav-text">车机娱乐系统</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TBOX"><span class="nav-number">7.</span> <span class="nav-text">TBOX</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="小贾"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">小贾</p>
  <div class="site-description" itemprop="description">Just do IT</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">88</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">56</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/jiajunhui" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jiajunhui" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:junhui_jia@163.com" title="E-Mail → mailto:junhui_jia@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/jiajunhui" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/21/car_can_introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="小贾">
      <meta itemprop="description" content="Just do IT">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="奔跑的蜗牛">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          整车CAN网络了解
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-21 21:56:00" itemprop="dateCreated datePublished" datetime="2021-05-21T21:56:00+08:00">2021-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Android%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">Android系统开发</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Android%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/%E8%BD%A6%E8%81%94%E7%BD%91/" itemprop="url" rel="index"><span itemprop="name">车联网</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>CAN是控制器局域网络(Controller Area Network, CAN)的简称。目前普遍运用在汽车网络.</p>
<span id="more"></span>

<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>先了解一个概念，何为智能硬件, 就是包含智能控制单元的硬件, 比如发动机, 发动机上有一块儿专门负责控制发动机进气量, 喷油量, 排气量的控制单元, 这块单元相当于发动机的大脑. 他具有信号发送, 信号接收, 参数存储等基本功能, 这个控制单元就是ECU.</p>
<p>​     ECU(Electronic ControlUnit）电子控制单元，是汽车专用微机控制器, 一个ECU一般负责1个或多个智能硬件设备.</p>
<p>​     随着汽车的发展, 车上的智能设备越来越多, 也就是说车上的ECU也越来越多, 如何用一个网络把这些智能设备的ECU全部连接起来并整体协调控制?</p>
<p>​    这就是CAN网络。</p>
<h1 id="CAN网络的优势"><a href="#CAN网络的优势" class="headerlink" title="CAN网络的优势"></a>CAN网络的优势</h1><ul>
<li><p>开放的标准</p>
</li>
<li><p>低成本</p>
</li>
<li><p>高速实时传递, 数据传递更安全可靠</p>
</li>
<li><p>适用于各种汽车</p>
</li>
</ul>
<h1 id="CAN网络-早期基本结构图"><a href="#CAN网络-早期基本结构图" class="headerlink" title="CAN网络-早期基本结构图"></a>CAN网络-早期基本结构图</h1><p>早期的整车CAN网络主要是围绕BCM(车身控制器)为控制中心, 早期的汽车, 智能硬件较少, 车身零部件(雨刮/大灯/车窗…)倒是一堆, 所以早期的正常CAN网络把所有其他的ECU全部放在Other ECU里边.</p>
<p><img src="/images/car_can_introduction01.png" alt="image"></p>
<p>随着智能硬件的越来越多, 且考虑到成本与安全, BCM已经不够完成如此庞大的网络管理了, 网关应运而生, 网关管理了5条CAN总线的各类ECU,  并对这5条CAN总线的波特率及信号优先级做了区分. 之前管理一堆车身零部件(雨刮/大灯/车窗…)的BCM也成了BCAN的一个节点!</p>
<h1 id="CAN网络-当今主流结构图"><a href="#CAN网络-当今主流结构图" class="headerlink" title="CAN网络-当今主流结构图"></a>CAN网络-当今主流结构图</h1><p>现如今的燃油车整车CAN网络主要以网关为控制中心, </p>
<p>本篇主要介绍这种类型的CAN网络.</p>
<p><img src="/images/car_can_introduction02.png" alt="image"></p>
<h2 id="CAN网络基本构成单元1-ECU节点"><a href="#CAN网络基本构成单元1-ECU节点" class="headerlink" title="CAN网络基本构成单元1_ECU节点"></a>CAN网络基本构成单元1_ECU节点</h2><p>就是车上的智能硬件设备里ECU控制单元.</p>
<p>比如ABS(防抱死系统)这个ECU是专门用于车辆制动过程中防止车轮被抱死的一套智能设备.</p>
<p>当今汽车越豪华,ECU就越多,智能控制硬件就越多,相对价格就越贵.一般的,一辆车普通的家用  轿车都有25个左右ECU. </p>
<p>如下图, 车上某个智能硬件上的ECU(智能电子控制单元)</p>
<p><img src="/images/car_can_introduction03.png" alt="image"></p>
<p><strong>由于车上ECU太多, 每种ECU作用各不相同, 信号传输速率(波特率)也不一致.</strong></p>
<p><strong>为了更加方便管理这些ECU, 我们把以上各类ECU按其功能/波特率分别布置在5条CAN总线上.</strong> </p>
<h2 id="CAN网络基本构成单元2-CAN总线"><a href="#CAN网络基本构成单元2-CAN总线" class="headerlink" title="CAN网络基本构成单元2_CAN总线"></a>CAN网络基本构成单元2_CAN总线</h2><p>也叫CAN BUS, 为了方便测试人员理解, 可以理解成CAN支线(可理解成一个路由器上的5条分口引出来的分支网线).</p>
<p>一般地, 分成5条CAN总线:</p>
<h3 id="PCAN-PowerTrain-CAN-☞-动力总成CAN总线"><a href="#PCAN-PowerTrain-CAN-☞-动力总成CAN总线" class="headerlink" title="PCAN (PowerTrain CAN ) ☞ 动力总成CAN总线"></a>PCAN (PowerTrain CAN ) ☞ 动力总成CAN总线</h3><blockquote>
<p>这条CAN总线主要负责车辆动力及最高安全级.</p>
<p>这条CAN总线上一般有以下ECU:</p>
<p>ECM ( Engine Control Module ) 发动机控制模块</p>
<p>SRS ( SupplementalRestraintSystem) 电子安全气囊</p>
<p>BMS ( Battery Management System ) 电池管理系统</p>
<p>…….</p>
<p>PCAN上是整车CAN网络信号优先级及信号传输速率最高的一条CAN总线.</p>
</blockquote>
<h3 id="CCAN-Chassis-CAN-☞-底盘控制CAN总线"><a href="#CCAN-Chassis-CAN-☞-底盘控制CAN总线" class="headerlink" title="CCAN (Chassis CAN) ☞ 底盘控制CAN总线"></a>CCAN (Chassis CAN) ☞ 底盘控制CAN总线</h3><blockquote>
<p>这条CAN总线主要负责汽车底盘及4个轮子的制动/稳定/转向</p>
<p>这条CAN总线上一般有以下ECU:</p>
<p>ABS ( Antilock Brake System ) 防抱死制动系统</p>
<p>ESP(Electronic Stability Program)车身电子稳定系统</p>
<p>EPS(Electric Power Steering)电子转向助力</p>
<p>……</p>
<p>CCAN由于涉及整车制动/助力转向等, 所以其网络信号优先级也是较高的. </p>
</blockquote>
<h3 id="BCAN-Body-CAN-☞-车身控制总线"><a href="#BCAN-Body-CAN-☞-车身控制总线" class="headerlink" title="BCAN ( Body CAN )☞ 车身控制总线"></a>BCAN ( Body CAN )☞ 车身控制总线</h3><blockquote>
<p>这条CAN总线主要车身上的一些提高舒适性/安全性的智能硬件的管理与控制</p>
<p>这条CAN总线上一般有以下ECU:</p>
<p>AC ( Air Condition ) 空调</p>
<p>AVM(Around View Monitor) 360环视</p>
<p>BCM(Body Control Module) 天窗, 车窗, 雾灯, 转向灯, 雨刮…</p>
<p>IMMO(Immobilizer) 发动机防盗系统</p>
<p>TPMS(Tire Pressure Monitoring System) 胎压监控系统</p>
<p>……</p>
<p>BCAN其网络信号优先级也是较低, 因为以上设备都是辅助设备.</p>
</blockquote>
<h3 id="ECAN-Entertainment-CAN-☞-娱乐系统总线"><a href="#ECAN-Entertainment-CAN-☞-娱乐系统总线" class="headerlink" title="ECAN ( Entertainment CAN ) ☞ 娱乐系统总线"></a>ECAN ( Entertainment CAN ) ☞ 娱乐系统总线</h3><blockquote>
<p>这条CAN总线主要车身上的一些提高娱乐性的智能硬件的管理与控制</p>
<p>这条CAN总线上一般有以下ECU:</p>
<p>VAES( Video Audio Entertainment System) 车载娱乐系统(中控)</p>
<p>IPK(Instrument Pack) 组合仪表, 当今的数字仪表, 基本有音乐, 地图, 通话等娱乐功能.</p>
<p>……..</p>
<p>ECAN, 也是辅助可选设备, 所以优先级也是较低的.</p>
</blockquote>
<h3 id="DCAN-Diagnose-CAN-☞-诊断控制总线"><a href="#DCAN-Diagnose-CAN-☞-诊断控制总线" class="headerlink" title="DCAN ( Diagnose CAN )☞ 诊断控制总线"></a>DCAN ( Diagnose CAN )☞ 诊断控制总线</h3><blockquote>
<p>这条CAN总线主要提供远程诊断功能</p>
<p>这条CAN总线上只有一个ECU:</p>
<p>Tbox(Telematics BOX) 远程控制模块</p>
<p>…….</p>
</blockquote>
<p>每条CAN总线都是由2根线组成的双绞线构成,</p>
<p>一根can_high, 一根can_low, 分别代表高电平, 低电平.</p>
<p>以下是某条CAN总线的模型图, 一条CAN总线上连着4个ECU控制单元.</p>
<p><img src="/images/car_can_introduction04.png" alt="image"></p>
<h1 id="CAN网关"><a href="#CAN网关" class="headerlink" title="CAN网关"></a>CAN网关</h1><p>网关是整个CAN网络的核心, 控制着整车5条CAN总线的信号转发与处理.</p>
<p>其实准确的说不能叫CAN网关, 应该叫网关或者汽车网关, 因为网关不仅处理CAN网络, 还处理LIN网络.</p>
<h3 id="CAN网关的功能"><a href="#CAN网关的功能" class="headerlink" title="CAN网关的功能"></a>CAN网关的功能</h3><p>CAN网关或叫汽车网关，因为网关不仅处理CAN网络，还处理LIN网络.</p>
<p>实际can网关大概有六七十个接线pin脚，每个接线pin脚都有严格的定义, 要匹配规定好的can总线或者开关设备, 除了刚才涉及的10个can线接线口(5条双绞线)，2个电源线接线口，还应包括定速巡航设备的8个接线口，电源管理方面的3个接线口，钥匙开关(或无钥匙启动系统)的5个接口，脚踏板的3个接线口，5个LIN接线pin脚，档位开关的4个接线pin脚等等。</p>
<p>某些汽车厂商可能有更多新的硬件开关设备，电压电阻开关设备等也都有对应的接线pin脚,<br>且可能预留一些PIN脚以备用.</p>
<p>CAN网关是整个CAN网络的核心, 控制着整车5条CAN总线的各类信号转发与处理，基本功能包括:</p>
<blockquote>
<ol>
<li>连接不同波特率(传输速度)的CAN总线/LIN总线，以实现CAN网络的网关中继功能。</li>
<li>诊断报文/非诊断报文转发。</li>
<li>诊断防火墙管理。</li>
<li>节点在线监控。</li>
<li>巡航控制器开关检测。</li>
<li>脚踏板位置检测。</li>
<li>网关休眠与唤醒管理。</li>
<li>ECU升级/网关升级。</li>
<li>电压管理。</li>
</ol>
</blockquote>
<p>CAN网关可以接收任何CAN总线(还有LIN总线)传来的不同传输速率网络信号，把这些信号按一定的标准处理后，广播到整车网络去，如果有ECU订阅(接收)了这个信号, 则ECU将解析信号并做相应的处理。<br>整车所有ECU基本是以毫秒级或者微妙级的速度在源源不断的发送并接收信号，所以网关需要处理并转发广播的信号是非常多的且必须要很快处理完的。</p>
<h1 id="车机娱乐系统"><a href="#车机娱乐系统" class="headerlink" title="车机娱乐系统"></a>车机娱乐系统</h1><p>基本来说, 当今的智能车机基本有以下几个特点:</p>
<blockquote>
<p>基于智能操作系统：Android，Linux等。<br>基本都是虚拟按键，较少用实体按键。<br>具备外网连接功能，即搭载了Tbox盒子。<br>有配套的车联网App，可以当手机钥匙及远程车控等功能。<br>具备控制：空调，数字液晶仪表，360度环视摄像头，其他车身设备(天窗, 车窗,大灯)的应用程序。</p>
</blockquote>
<p>需要说明的是：</p>
<ul>
<li><p>车机娱乐系统是Info CAN上的一个节点, 节点名称为VAES (Video Audio Entertainment System)</p>
</li>
<li><p>空调是Body CAN上的一个节点, 节点名称AC。</p>
</li>
<li><p>仪表是Info CAN上的节点，节点名称IPK，也叫ICU。</p>
</li>
<li><p>360智能环视摄像头是Body CAN上的节点，节点名称AVM。</p>
</li>
<li><p>其他车身设备(天窗, 车窗, 大灯)等设备是Body CAN上的BCM节点统一管理的。</p>
</li>
</ul>
<p>车机节点是车机上的一块MCU，专门负责车机主机对整车CAN网络的CAN信号转换的，业界一般用IPCL协议进行CAN信号到字符串信号(程序员能识别的信号)的转换，以上字符串信号经过Carservice或App的解析后，转成文字或者图像的界面供用户选择和使用，这样就把原始CAN信号转成用户能够看得懂的文字或图像。<br>因此</p>
<ul>
<li><p>VAES(车机)节点订阅消息(接收): 车机就是一台显示器。</p>
</li>
<li><p>VAES(车机)节点发送消息: 车机就是一台远程控制器。</p>
</li>
</ul>
<h1 id="TBOX"><a href="#TBOX" class="headerlink" title="TBOX"></a>TBOX</h1><p>Tbox是汽车上的一个盒子，其实是一个Android操作系统的带通讯功能的盒子，内含一张SIM卡，一般是中国联通SIM卡，与这个盒子配套硬件还有GPS天线，4G天线等。车机要联网必须有Tbox设备才能实现。</p>
<p><img src="/images/car_can_introduction05.png" alt="image"></p>
<p>TBOX的功能如下：</p>
<ul>
<li><p>Tbox可以给车机提供外网连接功能。<br>如何提供外网, 原理很简单, 可以简单的把它当做是USB上网卡。</p>
</li>
<li><p>Tbox可以提供GPS定位服务。<br>Tbox有GPS天线接入，车机通过USB数据输出接口实时获取GPS定位信息。<br>(Tbox的USB接口，除了提供外网数据, 提供GPS数据外，开发人员还可以通过这个USB线进行Tbox开发及adb debug等。)</p>
</li>
<li><p>Tbox是Diag CAN(诊断CAN)上的一个节点, 该节点可提供本地诊断和远程诊断等功能。</p>
</li>
</ul>
<p>智能车机娱乐系统有配套的车联网手机App，通过App可远程查看车机状态，远程开启座椅加热，远程开启空调，远程获取车机状态信息等。</p>
<p>当然，车联网手机App状态查询/远程控制功能的实现，全部依托Tbox节点，Tbox节点可以接收远程4G信号，之后由Tbox在诊断CAN上发起CAN诊断及控制命令，Tbox还实时获取相关CAN信号并上传云平台，云平台返回数据到车联网手机App。最终达到远程诊断(远程获取车辆状态, 远程读取故障码等…) 和远程控制(控制车上某些智能硬件的作用, 比如空调, 座椅加热等…)。</p>
<p>Tbox上的SIM一般只给车主用户提供网络服务， 虽然这张电话可以打电话, 但是由于车机系统的功能接口限定(软件界面上的功能限定)，限定了其只可以拨打道路救援电话，厂商客服电话，110等紧急电话，不可拨打普通手机号码或电话号码等。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CAN/" rel="tag"># CAN</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/04/06/android_aosp_android_safe/" rel="prev" title="AOSP-Android安全机制SEAndroid/SELinux">
                  <i class="fa fa-chevron-left"></i> AOSP-Android安全机制SEAndroid/SELinux
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/07/02/car_soa_introduction/" rel="next" title="汽车SOA架构设计浅析">
                  汽车SOA架构设计浅析 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小贾</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>






  





</body>
</html>
